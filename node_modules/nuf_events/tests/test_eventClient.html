<!DOCTYPE html>
<html lang="en">
<head>
  
  <script src="../src/eventsClient.js"></script>
  
  
  <style>
    textarea{
        width:700px;
        height: 800px;
    }
  </style>
  <title wrap="hard">nuf_events client test</title>
</head>

<body>
    <textarea></textarea>
  <script>
    function init(){
        function log(message){
            logIndex++;
            textarea.value = "------------- testClient.ejs -------------\n\r"+logIndex+".)\n\r"+message+"\n"+textarea.value;
        }
        
        var
          logIndex =0,
          textarea = document.getElementsByTagName("textarea")[0],
          testObject = {},
          eventData = {
            "testString":"this is a test string",
            "number": 123456
          }
        ;
        textarea.value = "";
        log("starting test");
        Events.addEventEmitter(testObject);
        testObject.on(
          "testEvent",
          function(event){
            log(
              "Received event on testObject, \n"+
              "Event:\n"+JSON.stringify(event, undefined, "\t")
            );
          }
        );
        testObject.on(
          "eventDispatched",
          function(event){
            log("received eventDispatched:"+"Event:\n"+JSON.stringify(event, undefined, "\t"));
          }
        );
        testObject.on.dispatchEvent("testEvent", eventData);
    }
    window.onload = init();
  </script>
</body>
</html>
